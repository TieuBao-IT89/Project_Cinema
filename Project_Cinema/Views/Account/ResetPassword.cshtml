@model Project_Cinema.ViewModels.ResetPasswordViewModel

@{
    ViewData["Title"] = "Đặt lại mật khẩu";
}

@section Styles {
    <link rel="stylesheet" href="~/css/login.css" />
    <link rel="stylesheet" href="~/css/forgot-password.css" />
}

<section class="login-section forgot-password-section">
    <div class="forgot-password-container">
        <div class="forgot-password-form-wrapper">
            <div class="form-decorations">
                <div class="decoration-circle decoration-1"></div>
                <div class="decoration-circle decoration-2"></div>
                <div class="decoration-circle decoration-3"></div>
            </div>

            <div class="form-wrapper">
                <div class="login-card">
                    <div class="login-card-header">
                        <div class="login-icon-wrapper">
                            <div class="icon-inner">
                                <i class="fas fa-lock"></i>
                            </div>
                            <div class="icon-glow"></div>
                        </div>
                        <h2 class="login-card-title">
                            <span class="title-text">Đặt lại mật khẩu</span>
                        </h2>
                        <p class="login-card-subtitle">Nhập mật khẩu mới cho tài khoản của bạn</p>
                    </div>

                    @if (!ViewData.ModelState.IsValid)
                    {
                        <div class="alert-message error" style="display:flex;">
                            <i class="alert-icon fas fa-exclamation-circle"></i>
                            <span class="alert-text">
                                @Html.ValidationSummary(false, "", new { @class = "validation-summary" })
                            </span>
                        </div>
                    }

                    <form id="resetPasswordForm" class="login-form" asp-controller="Account" asp-action="ResetPassword" method="post" data-server-reset="true">
                        @Html.AntiForgeryToken()
                        <input type="hidden" asp-for="UserId" />
                        <input type="hidden" asp-for="Token" />

                        <div class="form-group-login floating-label-group">
                            <div class="input-wrapper-modern">
                                <i class="input-icon-left fas fa-lock"></i>
                                <input asp-for="Password"
                                       id="resetPassword"
                                       class="form-input-modern"
                                       placeholder=" "
                                       autocomplete="new-password" />
                                <label for="resetPassword" class="floating-label">
                                    Mật khẩu mới
                                </label>
                                <button type="button" class="password-toggle" data-target="resetPassword" aria-label="Toggle password visibility">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <span class="error-message" asp-validation-for="Password"></span>
                        </div>

                        <div class="form-group-login floating-label-group">
                            <div class="input-wrapper-modern">
                                <i class="input-icon-left fas fa-lock"></i>
                                <input asp-for="ConfirmPassword"
                                       id="resetConfirmPassword"
                                       class="form-input-modern"
                                       placeholder=" "
                                       autocomplete="new-password" />
                                <label for="resetConfirmPassword" class="floating-label">
                                    Xác nhận mật khẩu mới
                                </label>
                                <button type="button" class="password-toggle" data-target="resetConfirmPassword" aria-label="Toggle password visibility">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <span class="error-message" asp-validation-for="ConfirmPassword"></span>
                        </div>

                        <button type="submit" class="btn-login-submit" id="resetPasswordSubmitBtn">
                            <span class="btn-text">
                                <i class="fas fa-save"></i> Cập nhật mật khẩu
                            </span>
                        </button>
                    </form>

                    <div class="additional-navigation">
                        <a asp-controller="Account" asp-action="Login" class="nav-link">
                            <i class="fas fa-arrow-left"></i> Quay lại đăng nhập
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script src="~/js/reset-password.js"></script>
}

