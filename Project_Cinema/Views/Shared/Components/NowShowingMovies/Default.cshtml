@model IEnumerable<Project_Cinema.Models.MovieModel>

<section id="now-showing" class="movies-section">
    <div class="container">
        <h2 class="section-title">Phim đang chiếu</h2>
        <div class="movies-grid">
            @foreach (var movie in Model)
            {
                <div class="movie-card">
                    <div class="movie-poster">
                        <img src="@(string.IsNullOrWhiteSpace(movie.PosterUrl)
                            ? $"https://via.placeholder.com/300x450?text={movie.Title}"
                            : movie.PosterUrl)" alt="@movie.Title">
                        <div class="movie-overlay">
                            <a asp-controller="Movie"
                               asp-action="Details"
                               asp-route-id="@movie.MovieId"
                               class="btn btn-sm">
                                Xem chi tiết
                            </a>
                            <a asp-controller="Showtime"
                               asp-action="Index"
                               asp-route-movieId="@movie.MovieId"
                               class="btn btn-sm btn-primary">
                                Đặt vé
                            </a>
                        </div>
                    </div>
                    <div class="movie-info">
                        <h3 class="movie-name">@movie.Title</h3>
                        <div class="movie-details">
                            <span class="genre">@movie.AgeRating</span>
                            <span class="duration">@movie.DurationMin phút</span>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</section>
